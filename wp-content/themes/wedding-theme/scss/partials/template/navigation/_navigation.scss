/* =======================================================
	Main Navigation - Burger Menu
======================================================= */

.navbar-toggle {
	padding:12px 0;
	margin-right:0;
	.icon-bar {
		width:35px;
		height:4px;
		position:relative;
		background:$highlight;
		@include transition(.15s);
		&:nth-child(2) {
			bottom:-10px;
			@include transform(rotate(45deg));
		}
		&:nth-child(3) {
			opacity:0;
		}
		&:nth-child(4) {
			bottom:2px;
			margin-top:0;
			@include transform(rotate(-45deg));
		}
	}
	&.collapsed .icon-bar {
		background:$highlight;
		&:nth-child(2) {
			top:0;
			@include transform(rotate(0));
		}
		&:nth-child(3) {
			opacity:1;
		}
		&:nth-child(4) {
			top:0;
			margin-top:4px;
			@include transform(rotate(0));
		}
	}
}


/* =======================================================
	Show mobile friendly navigation till 992px breakpoint
======================================================= */

@media (max-width:991px) {
	.navbar-header {
		float: none;
	}
	.navbar-left,.navbar-right {
		float: none !important;
	}
	.navbar-toggle {
		display: block;
	}
	.navbar-fixed-top {
		top: 0;
		border-width: 0 0 1px;
	}
	.navbar-collapse.collapse {
		display: none!important;
	}
	.navbar-nav {
		float: none!important;
		margin-top: 7.5px;
	}
	.navbar-nav > li {
		float: none;
	}
	.navbar-nav > li > a {
		padding-top: 10px;
		padding-bottom: 10px;
	}
	.collapse.in{
		display:block !important;
	}
}


/* =======================================================
	Main Navigation
======================================================= */

nav {
	background:$primary;
	.navbar-collapse {
		padding:0;
	}
}

nav ul {
	list-style:none;
	padding:0;
	margin:remify(10px 0);
	line-height:1.5;
	@extend %clearfix;
	li {
		display:block;
		float:none;
		position:relative;
		&.menu-item-has-children {
			cursor:pointer;
			&:after {
				content:'\f078';
				font-family:'FontAwesome';
				color:$highlight;
				position:absolute;
				right:0;
				top:8px;
			}
		}
		a {
			display:block;
			padding:remify(10px 0);
			border-top:1px solid lighten($secondary, 15%);
			color:#fff;
			font-family:$baseFont;
			position:relative;
			text-decoration:none;
			@include transition(.25s);
			&:hover {
				text-decoration:none;
			}
		}
		&:first-child a {
			border-top:0;
		}
	}
	@media (min-width:992px) {
		margin:0;
		display:table;
		width:100%;
		text-align:center;
		li {
			margin:0;
			display:table-cell;
			float:none;
			&:before {
				content:'';
				width:2px;
				height:10px;
				background:$highlight;
				position:absolute;
				left:0;
				top:0;
				bottom:0;
				margin:auto;
			}
			&:first-child:before {
				display:none;
			}
			&.menu-item-has-children:after {
				display:none;
			}
			a {
				padding:remify(15px);
				border-top:0;
				z-index:2;
				@include rem('font-size', 18px);
				&:before {
					content:'';
					background:$highlight;
					width:100%;
					height:0;
					position:absolute;
					bottom:0;
					left:0;
					z-index:-1;
					@include transition(.35s);
				}
				&:hover {
					color:#fff;
				}
				&:hover:before {
					height:100%;
				}
			}
		}
	}
}


/* =======================================================
	Main Navigation - Level 01
======================================================= */

nav ul li ul.sub-menu {
	display:none;
	margin:remify(0 0 20px 20px);
	z-index:20;
	text-align:left;
	li {
		display:list-item;
		position:relative;
		padding:remify(5px 0);
		background:none;
		&:after {
			top:3px;
		}
		a {
			border:0;
			padding:0;
			&:before {
				display:none;
			}
			&:hover {
				text-decoration:underline;
			}
		}
	}
	@media (min-width:992px) {
		margin:0;
		position:absolute;
		top:100%;
		left:0;
		white-space:nowrap;
		background:$secondary;
		padding:remify(20px);
		width:auto;
		li {
			display:block;
			float:none;
			padding-left:0;
			margin:0;
			&:hover ul.sub-menu {
				opacity:1!important;
				visibility:visible!important;
			}
		}
	}
}


/* =======================================================
	Main Navigation - Level 02
======================================================= */

nav ul li ul.sub-menu li ul.sub-menu {
	display:block;
	margin:remify(10px 0 0 20px);
	@media (min-width:992px) {
		visibility:hidden;
		opacity:0;
		top:-18px;
		left:100%;
		margin:0;
		width:auto;
		@include transition(.2s);
		li:before {
			display:none;
		}
	}
}